# Configuration as Code: TOML and Templates

Hardcoded prompts and magic numbers are a sin. They make code difficult to read, maintain, and test. That's why our plain Python agent uses a configuration-driven design. All of the agent's settings, including the system prompt, are stored in a TOML file. ## TODO: audit the prose to make sure its not too LLMy

The `config.toml` file is divided into five sections:

- `[evaluation]`: Loop limits, timeouts, and the model to use.
- `[logging]`: The directory for artifacts and the log level.
- `[prompt]`: The system prompt and any templates.
- `[dataset]`: The Hugging Face dataset to use.

The `PlainConfig` dataclass in `config.py` is used to load the configuration from the TOML file.

```{literalinclude} ../../evals/src/evals/dafnybench/plain/config.py
:language: python
:caption: The PlainConfig dataclass
:start-at: "class PlainConfig"
:end-before: "def get_config"
```

The `get_config` function provides a global singleton for accessing the configuration.

```{literalinclude} ../../evals/src/evals/dafnybench/plain/config.py
:language: python
:caption: The get_config function
:start-at: "def get_config"
```

The system prompt itself is a 185-line behemoth that explains the agent's task in excruciating detail. It includes descriptions of all the tools, examples of how to use them, and important rules and reminders about Dafny syntax.

This configuration-driven approach makes the agent much more flexible and reusable. We can easily change the agent's behavior by simply editing the TOML file, without having to touch the code.